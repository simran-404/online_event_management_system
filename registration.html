<html>
  <head>
    <link href="./assets/css/fonts.css" rel="stylesheet" />
    <link href="./assets/css/index.css" rel="stylesheet" />
    <title>Register</title>
  </head>
  <body>
    <div class="container">
      <div class="left">
        <div class="content">
          <img src="assets/img/decorgif.gif">
          <span>Welcome</span>
          <h1>Let's Bring Your Event Vision to Life</h1>
          <p>
            Our platform helps you plan and manage events easily. From registration to schedules, everthing in one place. Whether it's a birthday, wedding or corporate party, we make event management hassle-free!
          </p>
          <button class="form-btn"><a href="login.html">Login</a></button>
        </div>
      </div>
      <div class="right">
        <div class="form">
          <h2>Register</h2>
          <form
            class="registration-form"
            method="POST"
            action="registration.php"
          >
            <p id="message"></p>
            <div class="grid-fields">
              <div class="input-group">
                <input
                  type="text"
                  id="firstname"
                  name="firstname"
                  placeholder="First Name*"
                  pattern="^[A-Za-z]+$"
                  title="Enter valid name"
                  required
                />
              </div>
              <div class="input-group">
                <input
                  type="text"
                  id="lastname"
                  name="lastname"
                  placeholder="Last Name*"
                  pattern="^[A-Za-z]+$"
                  title="Enter valid name"
                  required
                />
              </div>
            </div>
            <div class="input-group">
              <input
                type="email"
                id="email"
                name="email"
                placeholder="Email*"
                required
              />
            </div>
            <div class="input-group">
              <input
                type="tel"
                id="contact"
                name="contact"
                required
                pattern="[0-9]{10}"
                title="Enter a valid 10-digit number"
                placeholder="Contact*"
              />
            </div>
            <!-- Gender (Radio button options) -->
            <div class="input-group radio-group">
              <label>Gender:</label>
              <div class="gender-options options">
                <label
                  ><input
                    type="radio"
                    id="female"
                    name="gender"
                    value="female"
                    required
                  />
                  <span>Female</span>

                  <img src="./assets/img/female.svg" alt="female" />
                </label>
                <label>
                  <input type="radio" id="male" name="gender" value="male" />
                  <span>Male</span>
                  <img src="./assets/img/male.svg" alt="male" />
                </label>
                <label
                  ><input
                    type="radio"
                    id="others"
                    name="gender"
                    value="others"
                  />
                  <span>Others</span>
                </label>
                <label
                  ><input
                    type="radio"
                    id="prefer-not-to-say"
                    name="gender"
                    value="prefer-not-to-say"
                  />

                  <span>Prefer not to say</span>
                </label>
              </div>
            </div>
            <div class="input-group">
              <input
                type="text"
                id="username"
                name="username"
                placeholder="Username*"
                required
              />
            </div>
            <div class="grid-fields">
              <div class="input-group">
                <input
                  type="password"
                  id="password"
                  name="password"
                  placeholder="Enter password here*"
                  required
                  pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$"
                  title="Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character."
                />
                <span class="toggle-password" onclick="togglePassword('password', this)">
                  <img src="assets/img/closeeye.webp" height="30">
                </span>
              </div>
              <div class="input-group">
                <input
                  type="password"
                  id="confirm-password"
                  name="confirm-password"
                  placeholder="Re-enter password here*"
                  required
                  pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$"
                  title="Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character." 
                />
                <span class="toggle-password" onclick="togglePassword('confirm-password', this)">
                  <img src="assets/img/closeeye.webp" height="30">
                </span>
              </div>
            </div>
            <button type="submit" class="form-btn">Register</button>
            <p>*You will be redirected to Login page to sign in</p>
          </form>
        </div>
      </div>
    </div>
  </body>
  <script defer>
    //Show error or success message recevied from backend through url
    const searchParams = new URLSearchParams(window.location.search);
    const msg = searchParams.get("message");
    const status = searchParams.get("status") || "error";
    //Show message to user
    if (msg) {
      const messageEl = document.getElementById("message");
      messageEl.textContent = msg;
      messageEl.className = status;
    }   
    function togglePassword(fieldId, eyeIcon) {
  var passwordField = document.getElementById(fieldId);
  
  if (passwordField.type === "password") {
    passwordField.type = "text";
    eyeIcon.children[0].src = "assets/img/eye.png"; // Change icon to indicate visibility
  } else {
    passwordField.type = "password";
    eyeIcon.children[0].src = "assets/img/closeeye.webp"; // Revert to hidden state icon
  }
}

  </script>
</html>
